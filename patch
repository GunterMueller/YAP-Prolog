diff --git a/packages/myddas/myddas_shared.c b/packages/myddas/myddas_shared.c
index 5d82323..5f13c47 100644
--- a/packages/myddas/myddas_shared.c
+++ b/packages/myddas/myddas_shared.c
@@ -736,9 +736,13 @@ init_myddas(void)
   }
 #endif
 #if defined MYDDAS_MYSQL || defined MYDDAS_ODBC
+#define stringify(X) _stringify(X)
+#define _stringify(X) #X
   Yap_REGS.MYDDAS_GLOBAL_POINTER = NULL;
   Yap_PutValue(AtomMyddasVersionName,
-              MkAtomTerm(Yap_LookupAtom(MYDDAS_VERSION)));
+              MkAtomTerm(Yap_LookupAtom(stringify(MYDDAS_VERSION))));
+#undef stringify
+#undef _stringify
   Yap_HaltRegisterHook((HaltHookFunc)Yap_MYDDAS_delete_all_myddas_structs,NULL);
   Yap_MYDDAS_delete_all_myddas_structs();
 #endif

